<div class="edit-container">
	<mat-card class="organisation-edit-card"
	  *ngIf="organisation">

		<form #organisationForm="ngForm"
		  (ngSubmit)="onSubmit()" class="well">
			<mat-card-header>
				<h2>{{organisation.name}}</h2>
			</mat-card-header>

			<mat-form-field class="edit-form-full-width">
				<input matInput type=text [(ngModel)]="organisation.name"
				  placeholder={{constants.name}}
				  name="name" value={{organisation.name}}
				  required [errorStateMatcher]="validation"
				  id="orga_name_field">
			</mat-form-field>

			<mat-form-field class="edit-form-full-width">
				<textarea matInput type=text [(ngModel)]="organisation.description"
				  placeholder={{constants.description}}
				  name="description" value={{organisation.description}}
				  id="orga_description_field"></textarea>
			</mat-form-field>

			<mat-form-field class="edit-form-full-width">
				<input matInput [errorStateMatcher]="validation"
				  type="email" [(ngModel)]="organisation.mail"
				  placeholder={{constants.mail}}
				  name="mail" value={{organisation.mail}}
				  id="orga_mail_field" email="true">
			</mat-form-field>

			<mat-form-field class="edit-form-full-width">
				<input matInput type=text [(ngModel)]="organisation.phone"
				  placeholder={{constants.phone}}
				  name="telephone" value={{organisation.phone}}
				  id="orga_phone_field">
			</mat-form-field>

			<mat-form-field class="edit-form-full-width">
				<input matInput type=text placeholder={{constants.website}}
				  name="website" id="orga_website_field"
				  name="website" value={{organisation.website}}>
			</mat-form-field>

			<mat-card class="address-card">
				<mat-form-field class="edit-form-full-width">
					<input matInput name="address"
					  placeholder={{constants.address}}
					  [matAutocomplete]="auto" [formControl]="addressCtrl">
					<mat-autocomplete #auto="matAutocomplete"
					  [displayWith]="toString">
						<mat-option *ngFor="let address of filteredAddresses | async"
						  [value]="address">
							{{ toString(address) }}
						</mat-option>
					</mat-autocomplete>
				</mat-form-field>
			</mat-card>

			<mat-card class="address-card">
				<mat-form-field class="edit-form-full-width">
					<input matInput name="address"
					  placeholder={{constants.address}}
					  [matAutocomplete]="auto" [formControl]="addressCtrl">
					<mat-autocomplete #auto="matAutocomplete"
					  [displayWith]="toString">
						<mat-option *ngFor="let address of filteredAddresses | async"
						  [value]="address">
							{{ toString(address) }}
						</mat-option>
					</mat-autocomplete>
				</mat-form-field>
			</mat-card>

			<mat-card class="address-card">
				<mat-card-header>
					<mat-card-title>
						<h2>{{constants.user}}</h2>
					</mat-card-title>
				</mat-card-header>
				<mat-card-content>
					<provider-table deleteOnAction={{false}}
					  organisationID={{organisation.id}}>
					</provider-table>
				</mat-card-content>
			</mat-card>

			<button mat-raised-button type="submit"
			  [disabled]="organisationForm.invalid">{{constants.save}}</button>
			<button type="button" mat-raised-button
			  (click)="back()">{{constants.back}}</button>
		</form>
	</mat-card>
</div>
