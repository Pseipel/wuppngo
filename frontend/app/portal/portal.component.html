<mat-sidenav-container>
	<mat-sidenav #sidenav [opened]="!!route.snapshot.children.length"
		(closed)="router.navigate(['/'])" (openedStart)="dial = false">
		<mat-toolbar color="primary">
			<ng-content *ngTemplateOutlet="title"></ng-content>
			<button mat-icon-button color (click)="sidenav.close()">
				<fa-icon icon="times"></fa-icon>
			</button>
		</mat-toolbar>

		<router-outlet (activate)="title = $event.title"></router-outlet>
	</mat-sidenav>

	<mat-sidenav-content>
		<mapping-component [activities]="selectables | async">
		</mapping-component>

		<search-component [selectables]="selectables">
		</search-component>

		<nav class="fab-dial" [class.open]="dial" [class.vert]="landscape | async">
			<button mat-fab color (click)="dial = !dial">
				<fa-icon icon="plus"></fa-icon>
			</button>
			<button mat-fab color="primary" (click)="handleTranslate()">
				<fa-icon icon="comments"></fa-icon>
			</button>
			<button mat-fab color="primary" (click)="handleTracking()">
				<fa-icon icon="location-arrow"></fa-icon>
			</button>
			<button mat-fab color="primary" routerLink="/about">
				<fa-icon icon="info"></fa-icon>
			</button>
		</nav>
	</mat-sidenav-content>
</mat-sidenav-container>
